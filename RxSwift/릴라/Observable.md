# Observable

> RxSwift는 Reactive Extensions for Swift의 약자로, Swift 언어를 위한 반응형 프로그래밍 라이브러리입니다. RxSwift는 비동기 및 이벤트 기반 프로그래밍을 간결하고 강력하게 처리할 수 있는 도구를 제공합니다. 이를 가능하게 하는 주요 개념 중 하나는 `Observable` 입니다.

Observable은 RxSwift에서 가장 중요한 타입 중 하나입니다. Observable은 데이터 스트림을 나타내는 시퀀스로, 이벤트를 생성하고 변환하며, 이를 구독자에게 전달하는 프로듀서 역할을 합니다.

Observable은 데이터 흐름을 표현하며, `옵저버 패턴`과 `반응형 프로그래밍`의 개념을 기반으로 합니다. 이를 통해 데이터 스트림의 생성, 변환, 필터링, 결합 등 다양한 조작을 쉽게 수행할 수 있습니다. 이러한 기능은 비동기 작업, 이벤트 처리, UI 업데이트 등 다양한 상황에서 유용하게 활용될 수 있습니다.


<img src="https://github.com/juun97/Today-I-Learned/assets/59365211/301416be-1fb0-41d4-9fb8-f8c91fc0f7cd" width = 700>

위 마블 다이어그램은 어떻게 Observable이 전환되어 가는지를 보여준다.


## Observer Pattern in RxSwift

:::info
💡 옵저버 패턴은 객체의 상태 변화를 다른 객체에게 알리기 위한 디자인 패턴으로, 객체 간에 느슨한 결합(Loose Coupling)을 제공하여 유연하고 확장 가능한 시스템을 구축하는 데 도움을 줍니다.
:::


RxSwift에서 옵저버 패턴은 옵저버가  Observable을 구독하는 관계로 구현됩니다. Observable은 데이터 스트림을 나타내고, 옵저버는 해당 스트림을 감시하고, Observable에서 배출되는 데이터나 이벤트에 반응합니다. 

옵저버는 Observable이 항목을 배출할 때까지 기다릴 필요 없이, 배출 알림을 감시하는 관찰자를 옵저버 내부에 두고 해당 관찰자를 통해 배출 알림을 받으면 됩니다. 이로써 옵저버는 비동기적으로 데이터의 변경을 감지하고 처리할 수 있게 됩니다.



### RxSwift는 어떻게 옵저버 패턴의 단점을 보완했는가

옵저버 패턴의 가장 큰 단점 중 하나는 일반적으로 콜백 형태로 구현되어 복잡성이 높아지고 가독성이 저하될 수 있다는 점인데 RxSwift 는 다음과 같은 방법으로 단점을 개선하였습니다.

1. 추상화와 체이닝
- RxSwift는 옵저버 패턴의 콜백 중첩과 복잡성을 줄이기 위해 옵저버블(Observable)과 옵저버(Observer)를 추상화합니다. 이로 인해 복수의 옵저버 패턴을 구현하는 것보다 더욱 직관적이고 간결한 코드로 비동기 이벤트를 처리할 수 있습니다. 또한, 옵저버블의 데이터 스트림을 체이닝하여 변환, 필터링, 조합 등 다양한 연산을 연속적으로 처리할 수 있어 코드의 가독성과 유지보수성이 향상됩니다.

2. 데이터 스트림 처리
-  RxSwift는 옵저버 패턴의 한계인 단일 이벤트만을 처리하는 것을 넘어서 데이터 스트림을 처리합니다. 이벤트 스트림은 연속적으로 발생하는 데이터의 흐름을 표현하며, 한 번 구독하면 데이터가 변경될 때마다 새로운 이벤트를 자동으로 전달합니다. 이를 통해 데이터의 상태 변화를 지속적으로 감지하고 처리할 수 있습니다.

3. 비동기 코드 처리
- RxSwift는 비동기 코드를 콜백 함수로만 처리하는 것이 아니라, 옵저버블을 이용하여 비동기 작업을 선언적으로 처리할 수 있습니다. 이는 코드의 복잡성을 줄이고, 비동기 작업을 동기적으로 다루는 것과 유사한 방식으로 구성할 수 있어 개발자들에게 편의를 제공합니다.

4. 오류 처리
- RxSwift는 오류 처리에 특별한 주의를 기울입니다. 옵저버블은 오류가 발생하면 구독자에게 에러 이벤트를 전달하고, 이로 인해 정상적인 데이터 처리와 오류 처리를 명확하게 구분할 수 있습니다. 이를 통해 안정성과 예외 상황 처리에 대한 효율성을 높입니다.

5. 유연한 스케줄링
- RxSwift는 작업을 원하는 스레드나 큐에서 실행할 수 있도록 스케줄러(Scheduler)를 제공합니다. 이를 통해 메인 스레드에서 UI 업데이트를 수행하고, 백그라운드 스레드에서 비즈니스 로직을 처리하는 등 스레드 관리를 더욱 유연하게 할 수 있습니다.

6. 자원 관리
- RxSwift는 옵저버 패턴에서 발생할 수 있는 메모리 누수와 같은 자원 관리 문제를 자동으로 처리합니다. 구독 해제(Unsubscription)를 통해 더 이상 필요하지 않은 옵저버를 제거하고, 메모리 누수를 방지합니다.
